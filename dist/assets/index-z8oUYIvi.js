import{r as c,b as _e}from"./vendor-BzKdgyNu.js";import{c as Te}from"./supabase-BJKC3dLm.js";import{R as me,P as Ae,a as ze,C as De,T as ge,B as we,b as ye,X as je,Y as ve,c as ue,L as Oe}from"./charts-DmqJ2C0e.js";(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))x(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&x(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function x(s){if(s.ep)return;s.ep=!0;const u=r(s);fetch(s.href,u)}})();var Pe={exports:{}},ne={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ie=c,Ke=Symbol.for("react.element"),Re=Symbol.for("react.fragment"),Ue=Object.prototype.hasOwnProperty,qe=Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ve={key:!0,ref:!0,__self:!0,__source:!0};function He(g,h,r){var x,s={},u=null,d=null;r!==void 0&&(u=""+r),h.key!==void 0&&(u=""+h.key),h.ref!==void 0&&(d=h.ref);for(x in h)Ue.call(h,x)&&!Ve.hasOwnProperty(x)&&(s[x]=h[x]);if(g&&g.defaultProps)for(x in h=g.defaultProps,h)s[x]===void 0&&(s[x]=h[x]);return{$$typeof:Ke,type:g,key:u,ref:d,props:s,_owner:qe.current}}ne.Fragment=Re;ne.jsx=He;ne.jsxs=He;Pe.exports=ne;var e=Pe.exports,Me,Ne=_e;Me=Ne.createRoot,Ne.hydrateRoot;const Fe="https://ynycffnifsietnoiimbr.supabase.co",Ze="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlueWNmZm5pZnNpZXRub2lpbWJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE3MzQ1MTAsImV4cCI6MjA3NzMxMDUxMH0._yxB9R79j3MMPi0BvYBJvDFGGkTsaqK203JE6cqFZ2w",w=Te(Fe,Ze,{realtime:{params:{eventsPerSecond:10}}});function Qe(){const g="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let h="";for(let r=0;r<6;r++)h+=g.charAt(Math.floor(Math.random()*g.length));return h}function Xe(g){const r=[...g].sort(()=>Math.random()-.5).slice(0,25),x=[];for(let s=0;s<5;s++)x.push(r.slice(s*5,(s+1)*5));return x}function Ge(g){if(g.length<5)return!1;const h=new Set(g.map(([s,u])=>`${s},${u}`));for(let s=0;s<5;s++){let u=!0,d=!0;for(let C=0;C<5;C++)h.has(`${s},${C}`)||(u=!1),h.has(`${C},${s}`)||(d=!1);if(u||d)return!0}let r=!0,x=!0;for(let s=0;s<5;s++)h.has(`${s},${s}`)||(r=!1),h.has(`${s},${4-s}`)||(x=!1);return r||x}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=g=>g.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),v=(g,h)=>{const r=c.forwardRef(({color:x="currentColor",size:s=24,strokeWidth:u=2,absoluteStrokeWidth:d,className:C="",children:N,...q},k)=>c.createElement("svg",{ref:k,...$e,width:s,height:s,stroke:x,strokeWidth:d?Number(u)*24/Number(s):u,className:["lucide",`lucide-${Ee(g)}`,C].join(" "),...q},[...h.map(([M,P])=>c.createElement(M,P)),...Array.isArray(N)?N:[N]]));return r.displayName=`${g}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=v("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=v("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=v("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=v("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=v("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=v("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=v("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=v("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=v("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=v("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=v("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=v("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=v("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=v("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=v("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=v("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=v("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=v("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=v("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function it(){const[g,h]=c.useState(""),[r,x]=c.useState(null),[s,u]=c.useState([]),[d,C]=c.useState([]),[N,q]=c.useState(new Set),[k,M]=c.useState(!1),[P,O]=c.useState(36),[I,V]=c.useState(!1),[G,F]=c.useState(!1),[a,$]=c.useState(null),[H,K]=c.useState({x:0,y:0}),[E,L]=c.useState(!1),[W,J]=c.useState({x:0,y:0});c.useEffect(()=>{ae()},[]),c.useEffect(()=>{if(!I||P<=0)return;const t=setInterval(()=>{O(n=>n<=1?(V(!1),0):n-1)},1e3);return()=>clearInterval(t)},[I,P]),c.useEffect(()=>{if(!r)return;const t=w.channel(`room:${r.id}:players`).on("postgres_changes",{event:"*",schema:"public",table:"players",filter:`room_id=eq.${r.id}`},async n=>{console.log("Player change detected:",n),await S()}).subscribe(n=>{console.log("Players channel status:",n)});return S(),()=>{w.removeChannel(t)}},[r]);async function ae(){const{data:t}=await w.from("game_terms").select("*").order("term");t&&C(t)}async function S(){if(!r)return;const{data:t}=await w.from("players").select("*").eq("room_id",r.id).order("joined_at");t&&u(t)}async function Y(){if(!g.trim())return;const t=Qe(),{data:n,error:p}=await w.from("rooms").insert({room_code:t,host_name:g,status:"waiting"}).select().single();if(p){console.error("Error creating room:",p);return}x(n)}async function ee(){r&&(await w.from("rooms").update({status:"playing",updated_at:new Date().toISOString()}).eq("id",r.id),x({...r,status:"playing"}))}async function le(){if(!r||d.length===0)return;const t=d.filter(p=>!N.has(p.term));if(t.length===0){await w.from("rooms").update({status:"finished",updated_at:new Date().toISOString()}).eq("id",r.id),x({...r,status:"finished"}),alert("üèÅ ƒê√£ h·∫øt c√¢u h·ªèi! Tr√≤ ch∆°i k·∫øt th√∫c!");return}const n=t[Math.floor(Math.random()*t.length)];await w.from("rooms").update({current_question:n.description,current_term:n.term,answer_revealed:!1,question_start_time:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",r.id),q(p=>new Set([...p,n.term])),x({...r,current_question:n.description,current_term:n.term,answer_revealed:!1,question_start_time:new Date().toISOString()}),O(36),V(!0)}async function ie(){if(!r||!r.current_term)return;const t=[...r.locked_terms||[],r.current_term];await w.from("rooms").update({answer_revealed:!0,locked_terms:t,updated_at:new Date().toISOString()}).eq("id",r.id),x({...r,answer_revealed:!0,locked_terms:t}),V(!1)}async function oe(t){if(!r)return;if(s.filter(_=>_.is_winner).length>=1){alert("‚ö†Ô∏è ƒê√£ c√≥ ng∆∞·ªùi th·∫Øng cu·ªôc!");return}if(!confirm("X√°c nh·∫≠n ng∆∞·ªùi ch∆°i n√†y th·∫Øng?"))return;await w.from("players").update({is_winner:!0,bingo_requested:!1}).eq("id",t);const p=1;await w.from("rooms").update({winners_count:p,updated_at:new Date().toISOString()}).eq("id",r.id),await w.from("rooms").update({status:"finished",updated_at:new Date().toISOString()}).eq("id",r.id),alert("üéâ C√≥ ng∆∞·ªùi th·∫Øng cu·ªôc! Tr√≤ ch∆°i k·∫øt th√∫c!"),await S(),x({...r,status:"finished",winners_count:p})}async function ce(t){await w.from("players").update({bingo_requested:!1}).eq("id",t),await S()}async function l(){var p;if(!r||!s.length)return;F(!0),K({x:0,y:0});const t=f(),n={roomInfo:{code:r.room_code,playerCount:s.length,questionCount:((p=r.locked_terms)==null?void 0:p.length)||0,timestamp:new Date().toLocaleString("vi-VN")},analysis:t,recommendations:y(t)};$(n)}const o=t=>{t.target.closest(".modal-content")||t.target.closest("button")||(L(!0),J({x:t.clientX-H.x,y:t.clientY-H.y}))},i=t=>{if(!E)return;const n=t.clientX-W.x,p=t.clientY-W.y,_=window.innerWidth/4,T=window.innerHeight/4;K({x:Math.max(-_,Math.min(_,n)),y:Math.max(-T,Math.min(T,p))})},m=()=>{L(!1)};function f(){const t=(r==null?void 0:r.locked_terms)||[],n=t.map(b=>{const B=s.filter(A=>A.selected_cells.some(([z,se])=>{var D;return((D=A.board[z])==null?void 0:D[se])===b})).length,R=Math.round(B/s.length*100),xe=100-R;let Z="D·ªÖ";R<50?Z="Kh√≥":R<80&&(Z="Trung b√¨nh");const U=d.find(A=>A.term===b);return{term:b,category:(U==null?void 0:U.category)||"Kh√°c",correctCount:B,correctRate:R,wrongRate:xe,difficulty:Z}});n.sort((b,B)=>b.correctRate-B.correctRate);const p=s.map(b=>{var A;const B=b.selected_cells.filter(([z,se])=>{var re;const D=(re=b.board[z])==null?void 0:re[se];return D&&t.includes(D)}).length,R=((A=b.wrong_cells)==null?void 0:A.length)||0,xe=Math.round(B/Math.max(t.length,1)*100),Z=Math.round(B*100/Math.max(t.length,1)),U=[];return n.forEach(z=>{!b.selected_cells.some(([D,re])=>{var pe;return((pe=b.board[D])==null?void 0:pe[re])===z.term})&&z.difficulty==="Kh√≥"&&U.push(z.term)}),{name:b.player_name,correctCount:B,wrongCount:R,correctRate:xe,score:Z,isWinner:b.is_winner,weakTopics:U.slice(0,3)}}),_=[...p].sort((b,B)=>B.correctCount-b.correctCount).slice(0,5),T=[...p].filter(b=>b.correctRate<50).sort((b,B)=>b.correctCount-B.correctCount).slice(0,5),de=n.filter(b=>b.correctRate<50),he=n.filter(b=>b.correctRate>=50&&b.correctRate<80),te=n.filter(b=>b.correctRate>=80);return{termDifficulty:n,topPlayers:_,needHelpPlayers:T,hardTerms:de,mediumTerms:he,easyTerms:te}}function y(t){const n=[];return t.hardTerms.length>0&&n.push(`üî¥ **C·∫ßn t·∫≠p trung √¥n t·∫≠p:** ${t.hardTerms.length} kh√°i ni·ªám kh√≥ chi·∫øm ${Math.round(t.hardTerms.length/t.termDifficulty.length*100)}% t·ªïng s·ªë c√¢u h·ªèi.`),t.needHelpPlayers.length>0&&n.push(`üë• **${t.needHelpPlayers.length} h·ªçc sinh c·∫ßn h·ªó tr·ª£ th√™m** v·ªõi t·ª∑ l·ªá ƒë√∫ng < 50%.`),t.easyTerms.length>t.termDifficulty.length*.7?n.push(`‚úÖ **T·ªët!** ${Math.round(t.easyTerms.length/t.termDifficulty.length*100)}% kh√°i ni·ªám ƒë∆∞·ª£c hi·ªÉu t·ªët (> 80% ƒë√∫ng).`):n.push(`‚ö†Ô∏è **C·∫ßn c·∫£i thi·ªán:** Ch·ªâ ${Math.round(t.easyTerms.length/t.termDifficulty.length*100)}% kh√°i ni·ªám ƒë∆∞·ª£c hi·ªÉu t·ªët.`),n.push(`üí° **ƒê·ªÅ xu·∫•t:** T·ªï ch·ª©c bu·ªïi √¥n t·∫≠p t·∫≠p trung v√†o ${t.hardTerms.slice(0,5).map(p=>p.term).join(", ")}.`),n.join(`

`)}function j(){r&&(navigator.clipboard.writeText(r.room_code),M(!0),setTimeout(()=>M(!1),2e3))}return r?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-red-900 via-pink-900 to-purple-900 p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto",children:[e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-6 mb-6 border-4 border-white/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-pink-600",children:"MC Dashboard"}),e.jsxs("p",{className:"text-gray-600 font-semibold text-lg",children:["üé§ Ng∆∞·ªùi d·∫´n: ",e.jsx("span",{className:"font-black text-red-600",children:r.host_name})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:S,className:"p-3 hover:bg-gray-100 rounded-xl transition-colors shadow-md",title:"Refresh danh s√°ch ng∆∞·ªùi ch∆°i",children:e.jsx(Ce,{className:"w-6 h-6 text-gray-600"})}),e.jsxs("div",{className:"text-right bg-gradient-to-br from-red-50 to-pink-50 p-4 rounded-2xl border-3 border-red-200 shadow-lg",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1 font-bold",children:"üîë M√£ ph√≤ng"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-pink-600 tracking-wider",children:r.room_code}),e.jsx("button",{onClick:j,className:"p-3 hover:bg-white rounded-xl transition-colors shadow-md",title:"Sao ch√©p m√£ ph√≤ng",children:k?e.jsx(Ye,{className:"w-7 h-7 text-green-600"}):e.jsx(ke,{className:"w-7 h-7 text-gray-600"})})]})]})]})]}),r.status==="waiting"&&e.jsxs("button",{onClick:ee,disabled:s.length===0,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white py-5 rounded-2xl font-black text-xl hover:from-green-700 hover:to-emerald-700 disabled:from-gray-300 disabled:to-gray-400 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-3 shadow-xl border-4 border-white",children:[e.jsx(tt,{className:"w-8 h-8"}),"üéÆ B·∫Øt ƒê·∫ßu Game"]}),r.status==="playing"&&e.jsxs("div",{className:"space-y-5",children:[e.jsxs("button",{onClick:le,disabled:r.current_question!==null&&!r.answer_revealed,className:"w-full bg-gradient-to-r from-red-600 to-pink-600 text-white py-5 rounded-2xl font-black text-xl hover:from-red-700 hover:to-pink-700 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-3 shadow-xl border-4 border-white",children:[e.jsx(Ce,{className:"w-8 h-8"}),"üé≤ B·ªëc C√¢u H·ªèi M·ªõi"]}),r.current_question&&e.jsxs("div",{className:"bg-gradient-to-r from-yellow-100 to-orange-100 border-4 border-yellow-400 rounded-2xl p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-sm font-black text-yellow-800 uppercase tracking-wide",children:"üéØ C√¢u H·ªèi Hi·ªán T·∫°i:"}),I&&e.jsxs("div",{className:`flex items-center gap-3 px-5 py-3 rounded-xl font-black text-2xl shadow-lg ${P<=10?"bg-gradient-to-r from-red-500 to-pink-600 text-white animate-pulse scale-110":"bg-white text-gray-900 border-3 border-gray-300"}`,children:[e.jsx(Se,{className:"w-7 h-7"}),P,"s"]})]}),e.jsx("div",{className:"text-3xl font-black text-gray-900 mb-5 leading-tight",children:r.current_question}),r.answer_revealed&&e.jsxs("div",{className:"text-lg text-gray-700 mb-5 bg-white/70 p-4 rounded-xl",children:["ƒê√°p √°n: ",e.jsx("span",{className:"font-black text-red-600 text-2xl",children:r.current_term})]}),r.answer_revealed?e.jsx("div",{className:"bg-green-500 border-3 border-green-600 rounded-xl p-4 text-center shadow-lg",children:e.jsx("span",{className:"text-white font-black text-lg",children:"‚úÖ ƒê√£ c√¥ng b·ªë ƒë√°p √°n cho ng∆∞·ªùi ch∆°i"})}):e.jsx("button",{onClick:ie,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white py-4 rounded-xl font-black text-lg hover:from-green-700 hover:to-emerald-700 transition-all shadow-lg border-3 border-white",children:"‚úÖ C√¥ng B·ªë ƒê√°p √Ån"})]})]}),r.status==="finished"&&e.jsxs("div",{className:"bg-green-50 border-4 border-green-400 rounded-xl p-6 text-center mb-6",children:[e.jsx(Q,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-2",children:"üéâ Game ƒê√£ K·∫øt Th√∫c! üéâ"}),e.jsxs("div",{className:"text-lg text-gray-700 mb-4",children:[r.winners_count||0," ng∆∞·ªùi th·∫Øng cu·ªôc"]}),e.jsxs("button",{onClick:l,className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-xl font-bold text-lg hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg flex items-center gap-2 mx-auto",children:[e.jsx(We,{className:"w-6 h-6"}),"üìä Xem B√°o C√°o AI"]})]}),G&&a&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",onMouseMove:i,onMouseUp:m,onMouseLeave:m,children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 rounded-3xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-hidden flex flex-col relative",style:{transform:`translate(${H.x}px, ${H.y}px)`,cursor:E?"grabbing":"default"},children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 p-4 rounded-t-3xl flex-shrink-0 cursor-grab active:cursor-grabbing select-none",onMouseDown:o,title:"K√©o ƒë·ªÉ di chuy·ªÉn",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-white/20 p-2 rounded-xl backdrop-blur-sm",children:e.jsx(fe,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-black text-white flex items-center gap-2",children:["B√°o C√°o AI - Ph√¢n T√≠ch H·ªçc T·∫≠p",e.jsx("span",{className:"text-xs text-white/60 font-normal",children:"‚úã K√©o ƒë·ªÉ di chuy·ªÉn"})]}),e.jsxs("p",{className:"text-white/80 text-xs mt-1",children:["Ph√≤ng: ",a.roomInfo.code," | ",a.roomInfo.timestamp]})]})]}),e.jsx("button",{onClick:()=>F(!1),className:"text-white hover:bg-white/30 rounded-xl px-4 py-2 font-bold transition-all text-xl",children:"‚úï"})]})}),e.jsxs("div",{className:"p-6 overflow-y-auto flex-1 modal-content",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border-l-4 border-blue-500",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(X,{className:"w-6 h-6 text-blue-500"}),e.jsx("h3",{className:"text-sm font-bold text-gray-700",children:"Ng∆∞·ªùi Ch∆°i"})]}),e.jsx("p",{className:"text-3xl font-black text-blue-600",children:a.roomInfo.playerCount})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border-l-4 border-green-500",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Je,{className:"w-6 h-6 text-green-500"}),e.jsx("h3",{className:"text-sm font-bold text-gray-700",children:"C√¢u H·ªèi"})]}),e.jsx("p",{className:"text-3xl font-black text-green-600",children:a.roomInfo.questionCount})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 border-l-4 border-purple-500",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(nt,{className:"w-6 h-6 text-purple-500"}),e.jsx("h3",{className:"text-sm font-bold text-gray-700",children:"ƒêi·ªÉm TB"})]}),e.jsxs("p",{className:"text-3xl font-black text-purple-600",children:[Math.round(a.analysis.topPlayers.reduce((t,n)=>t+n.correctRate,0)/a.analysis.topPlayers.length),"%"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-5 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(rt,{className:"w-6 h-6 text-indigo-600"}),e.jsx("h3",{className:"text-xl font-black text-gray-800",children:"üìä Ph√¢n T√≠ch ƒê·ªô Kh√≥ Kh√°i Ni·ªám"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold text-gray-700 mb-3 text-center",children:"Ph√¢n B·ªï ƒê·ªô Kh√≥"}),e.jsx(me,{width:"100%",height:250,children:e.jsxs(Ae,{children:[e.jsx(ze,{data:[{name:"üü¢ D·ªÖ",value:a.analysis.easyTerms.length,color:"#10b981"},{name:"üü° Trung B√¨nh",value:a.analysis.mediumTerms.length,color:"#f59e0b"},{name:"üî¥ Kh√≥",value:a.analysis.hardTerms.length,color:"#ef4444"}],cx:"50%",cy:"50%",labelLine:!1,label:t=>`${t.name} ${(t.percent*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:[{name:"üü¢ D·ªÖ",value:a.analysis.easyTerms.length,color:"#10b981"},{name:"üü° Trung B√¨nh",value:a.analysis.mediumTerms.length,color:"#f59e0b"},{name:"üî¥ Kh√≥",value:a.analysis.hardTerms.length,color:"#ef4444"}].map((t,n)=>e.jsx(De,{fill:t.color},`cell-${n}`))}),e.jsx(ge,{})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold text-gray-700 mb-3 text-center",children:"Top 10 Kh√≥ Nh·∫•t"}),e.jsx(me,{width:"100%",height:250,children:e.jsxs(we,{data:a.analysis.termDifficulty.slice(0,10),children:[e.jsx(ye,{strokeDasharray:"3 3"}),e.jsx(je,{dataKey:"term",angle:-45,textAnchor:"end",height:80,style:{fontSize:"9px"}}),e.jsx(ve,{style:{fontSize:"10px"}}),e.jsx(ge,{}),e.jsx(ue,{dataKey:"correctRate",fill:"#8b5cf6",name:"% ƒë√∫ng"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4",children:[e.jsxs("h4",{className:"font-bold text-red-700 mb-3 flex items-center gap-2",children:["üî¥ Kh√°i Ni·ªám Kh√≥ (",a.analysis.hardTerms.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:a.analysis.hardTerms.map((t,n)=>e.jsxs("div",{className:"bg-white p-2 rounded text-sm",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:t.term}),e.jsxs("div",{className:"text-red-600",children:[t.correctRate,"% ƒë√∫ng"]})]},n))})]}),e.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-xl p-4",children:[e.jsxs("h4",{className:"font-bold text-orange-700 mb-3 flex items-center gap-2",children:["üü° Kh√°i Ni·ªám Trung B√¨nh (",a.analysis.mediumTerms.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:a.analysis.mediumTerms.map((t,n)=>e.jsxs("div",{className:"bg-white p-2 rounded text-sm",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:t.term}),e.jsxs("div",{className:"text-orange-600",children:[t.correctRate,"% ƒë√∫ng"]})]},n))})]}),e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-4",children:[e.jsxs("h4",{className:"font-bold text-green-700 mb-3 flex items-center gap-2",children:["üü¢ Kh√°i Ni·ªám D·ªÖ (",a.analysis.easyTerms.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:a.analysis.easyTerms.map((t,n)=>e.jsxs("div",{className:"bg-white p-2 rounded text-sm",children:[e.jsx("div",{className:"font-semibold text-gray-800",children:t.term}),e.jsxs("div",{className:"text-green-600",children:[t.correctRate,"% ƒë√∫ng"]})]},n))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-5 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Le,{className:"w-6 h-6 text-yellow-600"}),e.jsx("h3",{className:"text-xl font-black text-gray-800",children:"üèÜ B·∫£ng X·∫øp H·∫°ng"})]}),e.jsx("div",{className:"mb-4",children:e.jsx(me,{width:"100%",height:200,children:e.jsxs(we,{data:a.analysis.topPlayers,children:[e.jsx(ye,{strokeDasharray:"3 3"}),e.jsx(je,{dataKey:"name",style:{fontSize:"10px"}}),e.jsx(ve,{style:{fontSize:"10px"}}),e.jsx(ge,{}),e.jsx(Oe,{wrapperStyle:{fontSize:"11px"}}),e.jsx(ue,{dataKey:"correctCount",fill:"#10b981",name:"ƒê√∫ng"}),e.jsx(ue,{dataKey:"wrongCount",fill:"#ef4444",name:"Sai"})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:a.analysis.topPlayers.map((t,n)=>e.jsxs("div",{className:`rounded-lg p-3 ${t.isWinner?"bg-gradient-to-br from-yellow-100 to-orange-100 border-3 border-yellow-400":"bg-gray-50 border border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:`text-2xl font-black ${n===0?"text-yellow-500":n===1?"text-gray-400":n===2?"text-orange-600":"text-gray-500"}`,children:n+1}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm text-gray-900",children:t.name}),t.isWinner&&e.jsx("div",{className:"text-xs text-yellow-700 font-semibold",children:"üèÜ Th·∫Øng"})]})]}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"ƒê√∫ng:"}),e.jsxs("span",{className:"font-bold text-green-600",children:[t.correctCount,"/",a.roomInfo.questionCount]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Sai:"}),e.jsx("span",{className:"font-bold text-red-600",children:t.wrongCount})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"ƒê·ªô ch√≠nh x√°c:"}),e.jsxs("span",{className:"font-bold text-purple-600",children:[t.correctRate,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"ƒêi·ªÉm:"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[t.score,"/100"]})]})]})]},n))})]}),a.analysis.needHelpPlayers.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-5 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(be,{className:"w-6 h-6 text-orange-600"}),e.jsx("h3",{className:"text-xl font-black text-gray-800",children:"‚ö†Ô∏è C·∫ßn H·ªó Tr·ª£"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:a.analysis.needHelpPlayers.map((t,n)=>e.jsxs("div",{className:"bg-orange-50 border border-orange-300 rounded-lg p-3",children:[e.jsx("div",{className:"font-bold text-sm text-gray-900 mb-2",children:t.name}),e.jsxs("div",{className:"space-y-1 text-xs mb-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"ƒê√∫ng:"}),e.jsxs("span",{className:"font-bold text-green-600",children:[t.correctCount,"/",a.roomInfo.questionCount]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"ƒê·ªô ch√≠nh x√°c:"}),e.jsxs("span",{className:"font-bold text-orange-600",children:[t.correctRate,"%"]})]})]}),t.weakTopics.length>0&&e.jsxs("div",{className:"bg-white p-2 rounded",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-600 mb-1",children:"üí° √în l·∫°i:"}),e.jsx("div",{className:"text-xs text-gray-800",children:t.weakTopics.join(", ")})]})]},n))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl shadow-lg p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(fe,{className:"w-6 h-6 text-indigo-600"}),e.jsx("h3",{className:"text-xl font-black text-gray-800",children:"üí° Khuy·∫øn Ngh·ªã AI"})]}),e.jsx("div",{className:"bg-white rounded-lg p-4 whitespace-pre-wrap text-gray-700 leading-relaxed text-sm",children:a.recommendations})]})]}),e.jsxs("div",{className:"bg-gray-100 p-4 rounded-b-3xl flex gap-3 justify-center flex-shrink-0 border-t-2 border-gray-200",children:[e.jsxs("button",{onClick:()=>{const t=`
üìä B√ÅO C√ÅO AI - PH√ÇN T√çCH H·ªåC T·∫¨P

Ph√≤ng: ${a.roomInfo.code}
Ng∆∞·ªùi ch∆°i: ${a.roomInfo.playerCount}
C√¢u h·ªèi: ${a.roomInfo.questionCount}
Th·ªùi gian: ${a.roomInfo.timestamp}

üéØ PH√ÇN T√çCH KH√ÅI NI·ªÜM:
- Kh√≥ (üî¥): ${a.analysis.hardTerms.length}
- Trung b√¨nh (üü°): ${a.analysis.mediumTerms.length}
- D·ªÖ (üü¢): ${a.analysis.easyTerms.length}

üèÜ TOP NG∆Ø·ªúI CH∆†I:
${a.analysis.topPlayers.map((n,p)=>`${p+1}. ${n.name} - ${n.correctRate}% (${n.correctCount}/${a.roomInfo.questionCount})`).join(`
`)}

üí° KHUY·∫æN NGH·ªä:
${a.recommendations}
                      `.trim();navigator.clipboard.writeText(t),alert("‚úÖ ƒê√£ copy b√°o c√°o v√†o clipboard!")},className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-2 rounded-xl font-bold hover:from-blue-700 hover:to-blue-800 transition-all shadow-lg flex items-center gap-2",children:[e.jsx(ke,{className:"w-4 h-4"}),"Copy"]}),e.jsx("button",{onClick:()=>window.print(),className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-2 rounded-xl font-bold hover:from-green-700 hover:to-green-800 transition-all shadow-lg flex items-center gap-2",children:"üñ®Ô∏è In"})]})]})})]}),r.status==="playing"&&s.some(t=>t.bingo_requested&&!t.is_winner)&&e.jsxs("div",{className:"bg-orange-50 border-4 border-orange-400 rounded-2xl shadow-2xl p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(be,{className:"w-8 h-8 text-orange-600"}),e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["üîî Y√™u C·∫ßu BINGO (",s.filter(t=>t.bingo_requested&&!t.is_winner).length,")"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.filter(t=>t.bingo_requested&&!t.is_winner).map(t=>e.jsxs("div",{className:"bg-white border-2 border-orange-400 rounded-lg p-4 animate-pulse",children:[e.jsxs("div",{className:"font-bold text-xl text-gray-900 mb-3",children:["üéØ ",t.player_name]}),e.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:["ƒê√£ ch·ªçn: ",t.selected_cells.length,"/25 √¥"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>oe(t.id),className:"flex-1 bg-green-600 text-white py-2 rounded-lg font-semibold hover:bg-green-700 transition-all",children:"‚úÖ X√°c Nh·∫≠n"}),e.jsx("button",{onClick:()=>ce(t.id),className:"flex-1 bg-red-600 text-white py-2 rounded-lg font-semibold hover:bg-red-700 transition-all",children:"‚ùå T·ª´ Ch·ªëi"})]})]},t.id))})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(X,{className:"w-6 h-6 text-red-600"}),e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Ng∆∞·ªùi Ch∆°i (",s.length,")"]})]})}),s.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(X,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Ch∆∞a c√≥ ng∆∞·ªùi ch∆°i n√†o tham gia"}),e.jsx("p",{className:"text-sm mt-2",children:"Chia s·∫ª m√£ ph√≤ng ƒë·ªÉ m·ªùi ng∆∞·ªùi ch∆°i"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(t=>e.jsxs("div",{className:`border-2 rounded-lg p-4 transition-all ${t.is_winner?"border-green-500 bg-green-50":t.bingo_requested?"border-orange-500 bg-orange-50 animate-pulse":"border-gray-200 hover:border-red-300"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"font-semibold text-lg text-gray-900",children:[t.player_name,t.bingo_requested&&!t.is_winner&&e.jsx("span",{className:"ml-2 text-orange-600",children:"üîî"})]}),t.is_winner&&e.jsx(Q,{className:"w-6 h-6 text-green-600"})]}),e.jsx("div",{className:"text-sm text-gray-600 mb-3",children:(()=>{var T;const n=t.selected_cells.filter(([de,he])=>{var b,B;const te=(b=t.board[de])==null?void 0:b[he];return te&&((B=r.locked_terms)==null?void 0:B.includes(te))}).length,p=((T=t.wrong_cells)==null?void 0:T.length)||0,_=t.selected_cells.length;return e.jsxs(e.Fragment,{children:["ƒê√∫ng: ",e.jsx("span",{className:"text-green-600 font-semibold",children:n})," | ","Sai: ",e.jsx("span",{className:"text-red-600 font-semibold",children:p})," | ","ƒê√£ ch·ªçn: ",e.jsx("span",{className:"text-blue-600 font-semibold",children:_})]})})()}),t.is_winner&&e.jsx("div",{className:"bg-green-100 border border-green-500 rounded p-2 text-center text-sm font-semibold text-green-700",children:"üèÜ Ng∆∞·ªùi Th·∫Øng Cu·ªôc"})]},t.id))})]})]})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-red-900 via-pink-900 to-purple-900 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),e.jsxs("div",{className:"relative bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-8 max-w-md w-full border-4 border-white/50",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-red-500 to-pink-600 rounded-full mb-4 shadow-lg",children:e.jsx(Q,{className:"w-12 h-12 text-white"})}),e.jsx("h1",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-pink-600 mb-3",children:"MC DASHBOARD"}),e.jsx("p",{className:"text-lg text-gray-600 font-semibold",children:"Ng∆∞·ªùi D·∫´n Ch∆∞∆°ng Tr√¨nh"})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-800 mb-2",children:"üé§ T√™n ng∆∞·ªùi d·∫´n (MC)"}),e.jsx("input",{type:"text",value:g,onChange:t=>h(t.target.value),placeholder:"Nh·∫≠p t√™n c·ªßa b·∫°n",className:"w-full px-5 py-4 border-3 border-gray-300 rounded-xl focus:ring-4 focus:ring-pink-500 focus:border-pink-500 transition-all text-lg font-medium shadow-sm",onKeyPress:t=>t.key==="Enter"&&Y()})]}),e.jsx("button",{onClick:Y,disabled:!g.trim(),className:"w-full bg-gradient-to-r from-red-600 to-pink-600 text-white py-4 rounded-xl font-bold text-lg hover:from-red-700 hover:to-pink-700 disabled:from-gray-300 disabled:to-gray-400 disabled:cursor-not-allowed transition-all transform hover:scale-105 active:scale-95 shadow-xl",children:"üöÄ T·∫°o Ph√≤ng Game"})]})]})]})}function ot(){const[g,h]=c.useState(""),[r,x]=c.useState(""),[s,u]=c.useState(null),[d,C]=c.useState(null),[N,q]=c.useState([]),[k,M]=c.useState([]),[P,O]=c.useState([]),[I,V]=c.useState(!1),[G,F]=c.useState(36),[a,$]=c.useState([]),[H,K]=c.useState(!0),[E,L]=c.useState(0);c.useEffect(()=>{if(!s)return;const l=w.channel(`room:${s.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"rooms",filter:`id=eq.${s.id}`},o=>{const i=o.new,m=s;if(console.log("üîÑ Room Update:",{prevStatus:m.status,newStatus:i.status,updatedRoom:i}),u(i),$(i.locked_terms||[]),i.current_question!==m.current_question&&i.current_question){W(),O([]),K(!0),d&&w.from("players").update({wrong_cells:[]}).eq("id",d.id).then();const f=new Date(i.question_start_time).getTime(),y=Date.now(),j=Math.floor((y-f)/1e3),t=Math.max(0,36-j);F(t),t===0&&K(!1)}i.answer_revealed&&i.current_term&&!m.answer_revealed&&Y(i.current_term),i.id&&ae(i.id)}).subscribe();return()=>{w.removeChannel(l)}},[s,N,k]),c.useEffect(()=>{if(!s||!s.question_start_time||s.answer_revealed)return;const l=setInterval(()=>{const o=new Date(s.question_start_time).getTime(),i=Date.now(),m=Math.floor((i-o)/1e3),f=Math.max(0,36-m);F(f),f===0&&K(!1)},1e3);return()=>clearInterval(l)},[s]),c.useEffect(()=>{if(!s)return;const l=setInterval(async()=>{const{data:o}=await w.from("rooms").select("status").eq("id",s.id).single();o&&o.status==="finished"&&s.status!=="finished"&&(console.log("üîÑ Detected finished status via polling"),S())},2e3);return()=>clearInterval(l)},[s]),c.useEffect(()=>{if(!d)return;const l=w.channel(`player:${d.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"players",filter:`id=eq.${d.id}`},o=>{const i=o.new;console.log("üë§ Player Update:",{prevWinner:d==null?void 0:d.is_winner,newWinner:i.is_winner,updatedPlayer:i}),C(i),M(i.selected_cells||[]),O(i.wrong_cells||[]),i.is_winner&&(J(),S())}).subscribe();return()=>{w.removeChannel(l)}},[d]),c.useEffect(()=>{if(!N||!a.length)return;const l=[];N.forEach((i,m)=>{i.forEach((f,y)=>{a.includes(f)&&k.some(([j,t])=>j===m&&t===y)&&l.push([m,y])})});const o=Ge(l);V(o)},[N,a,k]);function W(){new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTGH0fPTgjMGHm7A7+OZRA0PVKXl7bBiGgU+leD1x3ElBSp+zPLaizsIGGS57OihUhELTKPi8bllHAY2kNbzwm4gBS6Cz/HgjzkHF2q+7+OZRA0QU6Th7b1oHwU8kdr0xHMnBiuBzfPaiD0HF2q+7+CXRAwRVKTk7blmHAU6ktnyxnMmBSuAzPDbjDsHGGS87+OZRA0PVKXl7b1oHQU8kNryyHQlBCqAzfPbiD0HF2u+7+OZRA0QU6Th7b1oHgU8kdvzxnQlBSuBzfPaiD0HGGe+7+OZRA0PVKXl7b1oHQU8kdvyxnQlBSuBzfPbiD0HF2u+7+OZRA0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0QVKXl7b1oHQU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZRA0PVKXl7b1oHgU7kdvzxnQlBSuBzfPaiD0HF2u+7+OZRA0PVKXl7b1oHgU7kdvzxnMlBSuBzfPaiD0HF2u+7+OZRA0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHg==").play().catch(()=>{})}function J(){new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTGH0fPTgjMGHm7A7+OZRA0PVKXl7bBiGgU+leD1x3ElBSp+zPLaizsIGGS57OihUhELTKPi8bllHAY2kNbzwm4gBS6Cz/HgjzkHF2q+7+OZRA0QU6Th7b1oHwU8kdr0xHMnBiuBzfPaiD0HF2q+7+CXRAwRVKTk7blmHAU6ktnyxnMmBSuAzPDbjDsHGGS87+OZRA0PVKXl7b1oHQU8kNryyHQlBCqAzfPbiD0HF2u+7+OZRA0QU6Th7b1oHgU8kdvzxnQlBSuBzfPaiD0HGGe+7+OZRA0PVKXl7b1oHQU8kdvyxnQlBSuBzfPbiD0HF2u+7+OZRA0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0QVKXl7b1oHQU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZRA0PVKXl7b1oHgU7kdvzxnQlBSuBzfPaiD0HF2u+7+OZRA0PVKXl7b1oHgU7kdvzxnMlBSuBzfPaiD0HF2u+7+OZRA0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1oHgU8kdvzxnMlBSuBzfPaiD0HF2u+7+OZQw0PVKXl7b1-oHg==").play().catch(()=>{})}async function ae(l){const{count:o}=await w.from("players").select("*",{count:"exact",head:!0}).eq("room_id",l);o!==null&&L(o)}async function S(){if(!s)return;const{data:l}=await w.from("rooms").select("*").eq("id",s.id).single();l&&(console.log("üîÑ Force Reload Room:",l),u(l))}function Y(l){if(!d||!N)return;const o=[],i=[];k.forEach(([m,f])=>{const y=N[m][f];if(a.includes(y)){i.push([m,f]);return}y!==l?o.push([m,f]):i.push([m,f])}),console.log("üîç Check Answers:",{correctTerm:l,lockedTerms:a,selectedCells:k,newSelectedCells:i,newWrongCells:o}),O(o),M(i),w.from("players").update({wrong_cells:o,selected_cells:i}).eq("id",d.id).then()}async function ee(){if(!g.trim()||!r.trim())return;const{data:l}=await w.from("rooms").select("*").eq("room_code",r.toUpperCase()).maybeSingle();if(!l){alert("Kh√¥ng t√¨m th·∫•y ph√≤ng v·ªõi m√£ n√†y!");return}const{data:o}=await w.from("game_terms").select("term");if(!o||o.length<25){alert("Kh√¥ng ƒë·ªß thu·∫≠t ng·ªØ ƒë·ªÉ t·∫°o b·∫£ng!");return}const i=o.map(j=>j.term),m=Xe(i),{data:f,error:y}=await w.from("players").insert({room_id:l.id,player_name:g,board:m,selected_cells:[],correct_cells:[],wrong_cells:[],bingo_requested:!1}).select().single();if(y){console.error("Error joining room:",y),alert("Kh√¥ng th·ªÉ tham gia ph√≤ng!");return}u(l),C(f),q(m),$(l.locked_terms||[])}async function le(l,o){if(!d||!s||s.status!=="playing"||!H||s.answer_revealed)return;const i=N[l][o];if(a.includes(i)||P.some(([j,t])=>j===l&&t===o))return;const f=k.findIndex(([j,t])=>j===l&&t===o);let y;f>=0?y=k.filter((j,t)=>t!==f):k.filter(([t,n])=>{const p=N[t][n];return!a.includes(p)}).length>0?y=[...k.filter(([t,n])=>a.includes(N[t][n])),[l,o]]:y=[...k,[l,o]],await w.from("players").update({selected_cells:y}).eq("id",d.id),M(y)}async function ie(){!d||!I||(await w.from("players").update({bingo_requested:!0}).eq("id",d.id),J(),alert("üéâ ƒê√£ g·ª≠i y√™u c·∫ßu BINGO ƒë·∫øn MC! ƒêang ch·ªù x√°c nh·∫≠n..."))}function oe(l,o){const i=N[l][o],m=a.includes(i),f=k.some(([j,t])=>j===l&&t===o),y=P.some(([j,t])=>j===l&&t===o);return m&&console.log(`üéØ Cell [${l},${o}] "${i}":`,{isLocked:m,isSelected:f,isWrong:y,selectedCells:k,lockedTerms:a}),y?"bg-red-500 text-white font-bold opacity-90 cursor-not-allowed":m&&f?"bg-green-500 text-white font-bold shadow-lg transform scale-105 cursor-not-allowed":m&&!f?"bg-gray-200 text-gray-600 font-semibold cursor-not-allowed line-through opacity-60":!H||s!=null&&s.answer_revealed?f?"bg-blue-400 text-white font-bold shadow-md cursor-not-allowed":"bg-gray-100 text-gray-900 font-semibold cursor-not-allowed opacity-70":f?"bg-blue-400 text-white font-bold shadow-md hover:bg-blue-500":"bg-gray-100 text-gray-900 font-semibold hover:bg-gray-200 hover:shadow-md transition-all"}function ce(){let l=0;return N.forEach((o,i)=>{o.forEach((m,f)=>{a.includes(m)&&k.some(([y,j])=>y===i&&j===f)&&l++})}),l}return!d||!s?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),e.jsxs("div",{className:"relative bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-8 max-w-md w-full border-4 border-white/50",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mb-4 shadow-lg",children:e.jsx(st,{className:"w-12 h-12 text-white"})}),e.jsx("h1",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 mb-3",children:"BINGO GAME"}),e.jsx("p",{className:"text-lg text-gray-600 font-semibold",children:"Kinh T·∫ø Ch√≠nh Tr·ªã"})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-800 mb-2",children:"üìù T√™n c·ªßa b·∫°n"}),e.jsx("input",{type:"text",value:g,onChange:l=>h(l.target.value),placeholder:"Nh·∫≠p t√™n c·ªßa b·∫°n",className:"w-full px-5 py-4 border-3 border-gray-300 rounded-xl focus:ring-4 focus:ring-purple-500 focus:border-purple-500 transition-all text-lg font-medium shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-800 mb-2",children:"üîë M√£ ph√≤ng"}),e.jsx("input",{type:"text",value:r,onChange:l=>x(l.target.value.toUpperCase()),placeholder:"Nh·∫≠p m√£ 6 k√Ω t·ª±",maxLength:6,className:"w-full px-5 py-4 border-3 border-gray-300 rounded-xl focus:ring-4 focus:ring-purple-500 focus:border-purple-500 transition-all uppercase tracking-widest text-center text-3xl font-black shadow-sm",onKeyPress:l=>l.key==="Enter"&&ee()})]}),e.jsx("button",{onClick:ee,disabled:!g.trim()||!r.trim(),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-4 rounded-xl font-bold text-lg hover:from-blue-700 hover:to-purple-700 disabled:from-gray-300 disabled:to-gray-400 disabled:cursor-not-allowed transition-all transform hover:scale-105 active:scale-95 shadow-xl",children:"üöÄ Tham Gia Ph√≤ng"})]})]})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),e.jsxs("div",{className:"relative max-w-5xl mx-auto",children:[e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-6 mb-6 border-4 border-white/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:d.player_name}),e.jsxs("p",{className:"text-gray-600 font-semibold text-lg",children:["üéÆ Ph√≤ng: ",e.jsx("span",{className:"font-black text-purple-600",children:s.room_code})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-600 font-semibold",children:"Tr·∫°ng th√°i"}),e.jsx("div",{className:`text-xl font-black px-4 py-2 rounded-xl ${s.status==="waiting"?"bg-yellow-100 text-yellow-700":s.status==="playing"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:s.status==="waiting"?"‚è≥ Ch·ªù b·∫Øt ƒë·∫ßu":s.status==="playing"?"üéÆ ƒêang ch∆°i":"üèÅ K·∫øt th√∫c"})]})]}),s.status==="finished"&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 border-4 border-purple-300 rounded-2xl p-8 text-center mb-6 shadow-2xl",children:[e.jsx(Q,{className:"w-24 h-24 text-yellow-300 mx-auto mb-4 drop-shadow-2xl animate-bounce"}),e.jsx("div",{className:"text-5xl font-black text-white mb-4 drop-shadow-lg",children:"üèÅ TR√í CH∆†I ƒê√É K·∫æT TH√öC! üèÅ"}),d.is_winner?e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-6 mb-4",children:[e.jsx("div",{className:"text-3xl font-black text-yellow-300 mb-2 drop-shadow-lg",children:"üéâ CH√öC M·ª™NG! B·∫†N L√Ä NG∆Ø·ªúI TH·∫ÆNG CU·ªòC! üéâ"}),e.jsx("div",{className:"text-xl text-white font-bold",children:"B·∫°n ƒë√£ ho√†n th√†nh BINGO tr∆∞·ªõc ti√™n!"})]}):e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-6 mb-4",children:[e.jsx("div",{className:"text-2xl font-black text-white mb-2",children:"ƒê√£ c√≥ ng∆∞·ªùi chi·∫øn th·∫Øng!"}),e.jsx("div",{className:"text-lg text-white/90 font-semibold",children:"C·∫£m ∆°n b·∫°n ƒë√£ tham gia tr√≤ ch∆°i!"})]}),e.jsxs("div",{className:"text-lg text-white font-bold",children:["üë• T·ªïng s·ªë ng∆∞·ªùi ch∆°i: ",E]})]}),d.is_winner&&s.status!=="finished"&&e.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 border-4 border-yellow-300 rounded-2xl p-6 text-center mb-6 animate-pulse shadow-2xl",children:[e.jsx(Q,{className:"w-20 h-20 text-white mx-auto mb-4 drop-shadow-lg"}),e.jsx("div",{className:"text-4xl font-black text-white mb-2 drop-shadow-lg",children:"üéâ CH√öC M·ª™NG! B·∫†N TH·∫ÆNG! üéâ"}),e.jsx("div",{className:"text-xl text-white font-bold",children:"B·∫°n ƒë√£ ho√†n th√†nh BINGO!"})]}),d.bingo_requested&&!d.is_winner&&s.status!=="finished"&&e.jsxs("div",{className:"bg-gradient-to-r from-orange-400 to-red-500 border-4 border-orange-300 rounded-2xl p-5 text-center mb-6 shadow-xl",children:[e.jsx(be,{className:"w-14 h-14 text-white mx-auto mb-3 drop-shadow-lg"}),e.jsx("div",{className:"text-2xl font-black text-white drop-shadow-lg",children:"‚è≥ ƒêang ch·ªù MC x√°c nh·∫≠n BINGO..."})]}),s.current_question&&s.status==="playing"&&e.jsxs("div",{className:"bg-gradient-to-r from-yellow-100 to-orange-100 border-4 border-yellow-400 rounded-2xl p-6 mb-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx(at,{className:"w-8 h-8 text-yellow-600 flex-shrink-0 mt-1 drop-shadow"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-black text-yellow-800 mb-2 uppercase tracking-wide",children:"üéØ C√¢u H·ªèi / G·ª£i √ù:"}),e.jsx("div",{className:"text-2xl font-black text-gray-900 mb-3 leading-tight",children:s.current_question})]})]}),s.question_start_time&&!s.answer_revealed&&e.jsxs("div",{className:`flex items-center gap-3 px-5 py-3 rounded-xl font-black text-2xl flex-shrink-0 shadow-lg ${G<=10?"bg-gradient-to-r from-red-500 to-pink-600 text-white animate-pulse scale-110":"bg-white text-gray-900 border-4 border-gray-300"}`,children:[e.jsx(Se,{className:"w-7 h-7"}),G,"s"]})]}),s.answer_revealed?e.jsxs("div",{className:"bg-green-500 border-3 border-green-600 rounded-xl p-5 text-center shadow-lg",children:[e.jsx("div",{className:"text-white font-black text-lg mb-2",children:"‚úÖ ƒê√£ c√¥ng b·ªë ƒë√°p √°n!"}),e.jsx("div",{className:"text-white font-black text-3xl",children:s.current_term})]}):e.jsx("div",{className:"bg-blue-500 border-3 border-blue-600 rounded-xl p-4 text-center shadow-lg",children:e.jsx("span",{className:"text-white font-black text-lg",children:H?"üí° H√£y ch·ªçn ƒë√°p √°n tr√™n b·∫£ng! (36 gi√¢y)":"‚è∏Ô∏è H·∫øt gi·ªù! Ch·ªù MC c√¥ng b·ªë ƒë√°p √°n..."})})]})]}),e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-6 border-4 border-white/50",children:[e.jsx("h3",{className:"text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 mb-6 text-center",children:"üéØ B·∫£ng BINGO c·ªßa b·∫°n"}),e.jsx("div",{className:"grid grid-cols-5 gap-3 mb-6",children:N.map((l,o)=>l.map((i,m)=>{const f=oe(o,m),y=a.includes(i),j=P.some(([n,p])=>n===o&&p===m),t=s.status!=="playing"||y||j||!H||s.answer_revealed;return e.jsx("button",{onClick:()=>le(o,m),disabled:t,className:`aspect-square p-3 rounded-xl text-base font-black transition-all ${f} ${t?"shadow-md":"transform hover:scale-110 active:scale-95 shadow-lg hover:shadow-xl"}`,children:i},`${o}-${m}`)}))}),I&&s.status==="playing"&&!d.is_winner&&!d.bingo_requested&&e.jsx("button",{onClick:ie,className:"w-full bg-gradient-to-r from-red-500 to-pink-600 text-white py-7 rounded-2xl font-black text-3xl hover:from-red-600 hover:to-pink-700 transition-all transform hover:scale-105 active:scale-95 animate-bounce shadow-2xl border-4 border-white",children:"üéØ M·∫ÆC BINGO! üéØ"}),e.jsxs("div",{className:"mt-6 text-center text-lg font-bold text-gray-700 bg-gray-100 py-4 rounded-xl",children:["ƒê√∫ng: ",e.jsx("span",{className:"text-green-600 font-black text-xl",children:ce()})," | Sai: ",e.jsx("span",{className:"text-red-600 font-black text-xl",children:P.length})," | ƒê√£ ch·ªçn: ",e.jsx("span",{className:"text-blue-600 font-black text-xl",children:k.length})]})]})]})]})}function ct(){const[g,h]=c.useState("select"),[r,x]=c.useState(!1);return g==="mc"?e.jsx(it,{}):g==="player"?e.jsx(ot,{}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-red-600 via-purple-700 to-blue-800 flex items-center justify-center p-4",children:[e.jsxs("div",{className:"max-w-4xl w-full",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4 drop-shadow-2xl",children:"üéØBINGO GAME - MLN122üéØ"}),e.jsx("p",{className:"text-xl text-white/90 drop-shadow-lg",children:"V·ª´a ch∆°i v·ª´a h·ªçc l√Ω thuy·∫øt kinh t·∫ø ch√≠nh tr·ªã!"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsx("button",{onClick:()=>h("mc"),className:"bg-white rounded-2xl shadow-2xl p-8 hover:scale-105 transition-all transform hover:shadow-red-500/50 group",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mb-6 group-hover:bg-red-200 transition-colors",children:e.jsx(et,{className:"w-12 h-12 text-red-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"MC - Ng∆∞·ªùi D·∫´n"}),e.jsx("p",{className:"text-gray-600 text-center",children:"T·∫°o ph√≤ng game, b·ªëc c√¢u h·ªèi v√† ƒëi·ªÅu khi·ªÉn tr√≤ ch∆°i"}),e.jsx("div",{className:"mt-6 px-6 py-2 bg-red-600 text-white rounded-lg font-semibold group-hover:bg-red-700 transition-colors",children:"T·∫°o Ph√≤ng M·ªõi"})]})}),e.jsx("button",{onClick:()=>h("player"),className:"bg-white rounded-2xl shadow-2xl p-8 hover:scale-105 transition-all transform hover:shadow-blue-500/50 group",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mb-6 group-hover:bg-blue-200 transition-colors",children:e.jsx(X,{className:"w-12 h-12 text-blue-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Ng∆∞·ªùi Ch∆°i"}),e.jsx("p",{className:"text-gray-600 text-center",children:"Tham gia ph√≤ng b·∫±ng m√£ code v√† ch∆°i BINGO"}),e.jsx("div",{className:"mt-6 px-6 py-2 bg-blue-600 text-white rounded-lg font-semibold group-hover:bg-blue-700 transition-colors",children:"Tham Gia Ph√≤ng"})]})})]}),e.jsxs("div",{className:"mt-12 bg-white/10 backdrop-blur-lg rounded-xl p-6 text-white",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"üìñ C√°ch ch∆°i:"}),e.jsxs("div",{className:"space-y-2 text-white/90",children:[e.jsxs("p",{children:["1. ",e.jsx("strong",{children:"MC"})," t·∫°o ph√≤ng v√† nh·∫≠n m√£ ph√≤ng 6 k√Ω t·ª±"]}),e.jsxs("p",{children:["2. ",e.jsx("strong",{children:"Ng∆∞·ªùi ch∆°i"})," nh·∫≠p m√£ ph√≤ng ƒë·ªÉ tham gia"]}),e.jsx("p",{children:"3. M·ªói ng∆∞·ªùi nh·∫≠n b·∫£ng BINGO 5√ó5 v·ªõi c√°c thu·∫≠t ng·ªØ kinh t·∫ø ng·∫´u nhi√™n"}),e.jsx("p",{children:"4. MC ƒë·ªçc c√¢u h·ªèi/g·ª£i √Ω ‚Üí Ng∆∞·ªùi ch∆°i c√≥ 36 gi√¢y ƒë·ªÉ nh·∫•n v√†o √¥ ƒë√°p √°n t∆∞∆°ng ·ª©ng"}),e.jsxs("p",{children:["5. Khi c√≥ 5 √¥ th·∫≥ng h√†ng (ngang ho·∫∑c d·ªçc) ‚Üí Nh·∫•n ",e.jsx("strong",{children:'"M√ÅC BINGO!"'})]}),e.jsx("p",{children:"6. MC x√°c nh·∫≠n ng∆∞·ªùi th·∫Øng cu·ªôc üèÜ"})]})]})]}),e.jsx("button",{onClick:()=>x(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-white rounded-full shadow-2xl flex items-center justify-center hover:scale-110 transition-all hover:shadow-blue-500/50 group z-50","aria-label":"Th√¥ng tin nh√≥m",children:e.jsx(Be,{className:"w-7 h-7 text-blue-600 group-hover:text-blue-700"})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-t-2xl flex items-center justify-between",children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[e.jsx(Be,{className:"w-8 h-8"}),"Th√¥ng Tin S·∫£n Ph·∫©m S√°ng T·∫°o"]}),e.jsx("button",{onClick:()=>x(!1),className:"w-10 h-10 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition-all",children:e.jsx(lt,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-5 border-2 border-blue-200",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(X,{className:"w-6 h-6 text-blue-600"}),"Th√¥ng Tin Nh√≥m"]}),e.jsxs("div",{className:"space-y-3 text-gray-700",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"font-semibold min-w-[120px]",children:"T√™n s·∫£n ph·∫©m :"}),e.jsx("span",{children:"BINGO GAME"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"font-semibold min-w-[120px]",children:"M√¥n h·ªçc:"}),e.jsx("span",{children:"MLN122"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"font-semibold min-w-[120px]",children:"L·ªõp:"}),e.jsx("span",{children:"Nh√≥m 1"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"font-semibold min-w-[120px]",children:"Th√†nh vi√™n:"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{children:"‚Ä¢ Tr·∫ßn H·∫° Kh∆∞∆°ng Duy - MSSV: QE180075"}),e.jsx("p",{children:"‚Ä¢ Nguy·ªÖn ƒê√†o B√°ch - MSSV: QE180006"}),e.jsx("p",{children:"‚Ä¢ ƒêo√†n Hi·ªÉu Minh - MSSV: SE183556"}),e.jsx("p",{children:"‚Ä¢ B√πi Anh Kha - MSSV: SE181730"})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-5 border-2 border-purple-200",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(fe,{className:"w-6 h-6 text-purple-600"}),"Minh B·∫°ch AI"]}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"ü§ñ AI ƒë∆∞·ª£c s·ª≠ d·ª•ng:"}),e.jsxs("p",{className:"leading-relaxed",children:["‚Ä¢ ",e.jsx("strong",{children:"GitHub Copilot"})," - H·ªó tr·ª£ code React/TypeScript",e.jsx("br",{}),"‚Ä¢ ",e.jsx("strong",{children:"Claude AI"})," - T∆∞ v·∫•n thi·∫øt k·∫ø game logic & database",e.jsx("br",{}),"‚Ä¢ ",e.jsx("strong",{children:"OpenAI GPT-4"})," - T·∫°o n·ªôi dung c√¢u h·ªèi & ph√¢n t√≠ch"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"‚ú® Ch·ª©c nƒÉng AI:"}),e.jsxs("p",{className:"leading-relaxed",children:["‚Ä¢ ",e.jsx("strong",{children:"Ph√¢n t√≠ch th·ªëng k√™ h·ªçc t·∫≠p:"})," AI ph√¢n t√≠ch k·∫øt qu·∫£ game ƒë·ªÉ ƒë∆∞a ra b√°o c√°o v·ªÅ ƒë·ªô kh√≥ c·ªßa t·ª´ng thu·∫≠t ng·ªØ, ƒëi·ªÉm m·∫°nh/y·∫øu c·ªßa ng∆∞·ªùi ch∆°i",e.jsx("br",{}),"‚Ä¢ ",e.jsx("strong",{children:"ƒê·ªÅ xu·∫•t c·∫£i thi·ªán:"})," D·ª±a tr√™n d·ªØ li·ªáu game, AI ƒë·ªÅ xu·∫•t c√°c thu·∫≠t ng·ªØ c·∫ßn √¥n t·∫≠p th√™m",e.jsx("br",{}),"‚Ä¢ ",e.jsx("strong",{children:"Tr·ª±c quan h√≥a:"})," Bi·ªÉu ƒë·ªì th·ªëng k√™ (Pie Chart, Bar Chart) gi√∫p d·ªÖ hi·ªÉu"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"üéØ M·ª•c ƒë√≠ch s·ª≠ d·ª•ng AI:"}),e.jsxs("p",{className:"leading-relaxed",children:["‚Ä¢ TƒÉng t·ªëc ph√°t tri·ªÉn s·∫£n ph·∫©m",e.jsx("br",{}),"‚Ä¢ ƒê·∫£m b·∫£o code ch·∫•t l∆∞·ª£ng v√† best practices",e.jsx("br",{}),"‚Ä¢ T·∫°o tr·∫£i nghi·ªám h·ªçc t·∫≠p t∆∞∆°ng t√°c v√† hi·ªáu qu·∫£",e.jsx("br",{}),"‚Ä¢ Ph√¢n t√≠ch d·ªØ li·ªáu h·ªçc t·∫≠p ƒë·ªÉ c·∫£i thi·ªán ph∆∞∆°ng ph√°p"]})]}),e.jsx("div",{className:"bg-white/70 rounded-lg p-4 border-l-4 border-purple-500",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"üì¢ Cam k·∫øt:"})," To√†n b·ªô logic nghi·ªáp v·ª•, thi·∫øt k·∫ø UX/UI v√† √Ω t∆∞·ªüng game do nh√≥m t·ª± ph√°t tri·ªÉn. AI ch·ªâ ƒë√≥ng vai tr√≤ h·ªó tr·ª£ c√¥ng c·ª•, kh√¥ng thay th·∫ø s·ª± s√°ng t·∫°o c·ªßa con ng∆∞·ªùi."]})})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-teal-50 rounded-xl p-5 border-2 border-green-200",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"‚öôÔ∏è C√¥ng Ngh·ªá S·ª≠ D·ª•ng"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-gray-700",children:[e.jsxs("div",{className:"bg-white/70 rounded-lg p-3",children:[e.jsx("strong",{children:"Frontend:"})," React + TypeScript"]}),e.jsxs("div",{className:"bg-white/70 rounded-lg p-3",children:[e.jsx("strong",{children:"Backend:"})," Supabase (PostgreSQL)"]}),e.jsxs("div",{className:"bg-white/70 rounded-lg p-3",children:[e.jsx("strong",{children:"Realtime:"})," Supabase Realtime"]}),e.jsxs("div",{className:"bg-white/70 rounded-lg p-3",children:[e.jsx("strong",{children:"UI:"})," Tailwind CSS"]}),e.jsxs("div",{className:"bg-white/70 rounded-lg p-3",children:[e.jsx("strong",{children:"Charts:"})," Recharts"]}),e.jsxs("div",{className:"bg-white/70 rounded-lg p-3",children:[e.jsx("strong",{children:"Icons:"})," Lucide React"]})]})]}),e.jsx("div",{className:"text-center text-gray-500 text-sm pt-4 border-t",children:e.jsx("p",{children:"¬© 2025-2026 Nh√≥m 1 - Made with ‚ù§Ô∏è and AI assistance."})})]})]})})]})}Me(document.getElementById("root")).render(e.jsx(c.StrictMode,{children:e.jsx(ct,{})}));
